CHIP Counter {
    IN inc, reset;
    OUT out[16];

    PARTS:
    // 当前值寄存器
    Register(in=inValue, out=out, load=load);

    // 加一器
    Inc16(in=out, out=incOut);

    // 如果 inc=1，则选择加1后的值，否则保持不变
    Mux16(a=out, b=incOut, sel=inc, out=maybeInc);

    // 如果 reset=1，则选择全0，否则保留 maybeInc
    Mux16(a=maybeInc, b[0..15]=false, sel=reset, out=inValue);

    // 只要 inc 或 reset 有一个为1，就加载寄存器
    Or(a=inc, b=reset, out=load);
}
